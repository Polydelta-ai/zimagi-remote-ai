config:
    name: "remote-ai-data-#time()"
    fields:
        - name < data_preprocess
        - description < data_preprocess
        - classification_names:CONCAT:classifications__name:distinct=True < data_preprocess
        - combined_text < data_combined_text:name:append=description,classification_names;separator="\n\n"
        - telework_eligible < data_convert_bool

    drop: [name, description, classification_names, id]

run:
    remote-ai-data:
        command: "data save"
        dataset_provider_name: "collection"
        dataset_name: "@name"
        dataset_fields:
            index_field: id
            "job:fields": "@fields"
            "job:remove_fields": "@drop"
